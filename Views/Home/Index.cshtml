@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome to MyApp</h1>
</div>
<div class="row">
    <div class="col">
        <form action="Upload/?handler=Upload"
              enctype="multipart/form-data" onsubmit="AJAXSubmit(this);return false;"
              method="post">
            <dl>
                <dt>
                    <label for="Files">File</label>
                </dt>
                <dd>
                    <input id="Files" type="file" name="Files" multiple/>
                </dd>
            </dl>
            
            <button class="btn" type="submit" value="Upload" />

            <div style="margin-top:15px">
                <output name="result"></output>
            </div>
        </form>


    </div>
</div>

<script>
    "use strict";

    function AJAXSubmit(oFormElement) {
        var oReq = new XMLHttpRequest();
        oReq.onload = function (e) {
            oFormElement.elements.namedItem("result").value =
                'Result: ' + this.status + ' ' + this.statusText;
        };
        oReq.open("post", oFormElement.action);
        oReq.send(new FormData(oFormElement));
    }
</script>